<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trip Expense Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

     <!-- Loading Spinner (hidden initially) -->
<div id="loadingSpinner" class="hidden">
    <div class="spinner"></div>
    <p>Processing... Please wait</p>
</div>

    <div class="container">
        <h1>Trip Expense Tracker</h1>

        <!-- Initial Setup Section -->
        <div id="initialSetup" class="initial-setup">
            <h2>Setup Your Trip</h2>
            <form id="setupForm">
                <label for="tripName">Trip Name:</label>
                <input type="text" id="tripName" required>

                <label for="friendName">Add Friend:</label>
                <input type="text" id="friendName" placeholder="Friend's Name">
                <button type="button" onclick="addFriend()">Add Friend</button>

                <h3>Friends on this Trip:</h3>
                <ul id="friendsList" class="friends-list"></ul>

                <button type="submit">Start Trip</button>
            </form>
        </div>

        <!-- Main Interface Section -->
        <div id="mainInterface" class="hidden">

                <button onclick="clearTripData()">Clear Trip Data</button>

                <!-- Add Mic Icon for Voice Input -->
<!-- Mic Icon for Voice Input (Start/Stop Button) -->
<button id="micIcon" style="display: none; background-color: ''; padding: 10px 20px; border-radius: 5px;">
    ðŸŽ¤ Start Recording
</button>



<!-- Button to Store API Key -->
<button id="apiKeyButton">Set OpenAI Key</button>


            <!-- Add Bill Section -->
            <div class="bills-section">


                <h2>Add Bill</h2>
                <form id="billForm">
                    <label for="whoPaid">Who Paid:</label>
                    <select id="whoPaid" required></select>

                    <label for="amount">Amount:</label>
                    <input type="number" id="amount" step="0.01" required>

                    <label for="currency">Currency:</label>
                    <input type="text" id="currency" required>

                    <label for="conversionRate">Conversion Rate to INR:</label>
                    <input type="number" id="conversionRate" step="0.01" required>

                    <div id="splitOptions">
                        <label>Split Options:</label>
                        <button type="button" onclick="splitEvenly()">Split Evenly</button>
                        <button type="button" onclick="splitByPercentage()">Split by Percentage</button>
                    </div>

                    <div id="owesSection" class="hidden">
                        <label>Who Owes (custom percentage):</label>
                        <div id="owesFields"></div>
                    </div>


                    <button type="submit">Add Bill</button>
                      <button type="button" id="clearButton">Clear All</button>
                </form>
            </div>

            <!-- Display All Bills -->
            <div class="bills-section">
                <h2>All Added Bills</h2>
                <ul id="allBills" class="bills-list"></ul>
            </div>

            <!-- Tally Section -->
            <div class="tally-section">
                <h2>Settlement Tally</h2>
                <table id="tallyTable">
                    <thead>
                        <tr>
                            <th>Friend</th>
                            <th>Total Owes (INR)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Tally rows will be inserted here -->
                    </tbody>
                </table>
            </div>

            <!-- Export Section -->
            <div class="export-section">
                <h2>Export Data</h2>
                <button onclick="exportToExcel()">Export to Excel</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
